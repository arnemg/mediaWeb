<!DOCTYPE html>
<html lang="en">
  <head>
      <% include ../partials/head %>
  </head>

  <header>
      <% include ../partials/header %>
  </header>

  <body>
		<div class="container demo-4">
      <div class="main">
				<header class="clearfix">
					<h1>Art Gallery <span>Nonfigurativ</span></h1>
				</header>
        <div class="image-preview">
          <img id="preview" src="/art/Notat_20171113_230220_01.jpg" />
        </div>
				<!-- Elastislide Carousel -->
        <ul id="carousel" class="elastislide-list">
          <% var teller = 0; %>
          <% filelist.forEach(function(bilde){ %>
            <li data-preview="/art/<%= bilde %>"> <a href="#"><img src="/art/<%= bilde %>" /></a></li>
          <% teller ++;
            }); %>
        </ul>
				<!-- End Elastislide Carousel -->
				<p>Alle bildene (<%= filelist.length %>) er blitt tegnet p√• en Samsung Galaxy Pad 10.1</p>
			</div>
		</div>
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
		<script type="text/javascript" src="/js/jquerypp.custom.js"></script>
		<script type="text/javascript" src="/js/jquery.elastislide.js"></script>
    <script type="text/javascript">

			// example how to integrate with a previewer

			var current = 0,
				$preview = $( '#preview' ),
				$carouselEl = $( '#carousel' ),
				$carouselItems = $carouselEl.children(),
				carousel = $carouselEl.elastislide( {
					current : current,
					minItems : 4,
					onClick : function( el, pos, evt ) {

						changeImage( el, pos );
						evt.preventDefault();

					},
					onReady : function() {

						changeImage( $carouselItems.eq( current ), current );

					}
				} );

			function changeImage( el, pos ) {

				$preview.attr( 'src', el.data( 'preview' ) );
				$carouselItems.removeClass( 'current-img' );
				el.addClass( 'current-img' );
				carousel.setCurrent( pos );

			}

		</script>
    </body>
</html>
